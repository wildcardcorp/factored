[app:main]
use = egg:factored#validator_main

jwt.audience = urn:factored
jwt.algorithm = HS512
jwt.secret = supersecret
jwt.cookie.name = factored
jwt.cookie.age = 86400
jwt.cookie.secure = false
jwt.cookie.httponly = true

plugins.dirs = /app/factored/plugins/
plugins.finder = EMailDomain

plugin.EMailDomain.valid_domains =
    assemblys.net
    wildcardcorp.com


[server:main]
use = egg:waitress#main
listen = 0.0.0.0:6543


[loggers]
keys = root, faudit, fvalidator, fplugins

[handlers]
keys = console, faudit

[formatters]
keys = generic, faudit

[logger_root]
level = INFO
handlers = console

[logger_fvalidator]
level = INFO
handlers =
qualname = factored.validator

[logger_fplugins]
level = INFO
handlers =
qualname = factored.plugins

[logger_faudit]
level = INFO
handlers = faudit
qualname = factored.audit

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[handler_faudit]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = faudit

[formatter_generic]
format = %(asctime)s %(levelname)-5.5s [%(name)s:%(lineno)s] %(message)s

[formatter_faudit]
format = %(asctime)s [%(name)s] %(message)s
